{"version":3,"sources":["../src/index.js"],"names":["mjmlLoader","content","cacheable","result","errors","length","errorMsg","resourcePath","map","error","formattedMessage","Error","code","JSON","stringify","html"],"mappings":";;;;;kBAEwBA,U;;AAFxB;;;;;;AAEe,SAASA,UAAT,CAAoBC,OAApB,EAA6B;AAC1C,OAAKC,SAAL;;AAEA,QAAMC,SAAS,oBAAUF,OAAV,CAAf;;AAEA,MAAIE,OAAOC,MAAP,CAAcC,MAAlB,EAA0B;AACxB,UAAMC,WAAY,0BAAyB,KAAKC,YAAa;MAC3DJ,OAAOC,MAAP,CAAcI,GAAd,CAAkBC,SAAU,KAAIA,MAAMC,gBAAiB,EAAvD,CAA0D,EAD5D;;AAGA,UAAMD,QAAQ,IAAIE,KAAJ,CAAUL,QAAV,CAAd;AACAG,UAAMG,IAAN,GAAa,cAAb;;AAEA,UAAMH,KAAN;AACD;;AAED,SAAQ,kBAAiBI,KAAKC,SAAL,CAAeX,OAAOY,IAAtB,CAA4B,GAArD;AACD","file":"index.js","sourcesContent":["import mjml2html from 'mjml';\n\nexport default function mjmlLoader(content) {\n  this.cacheable();\n\n  const result = mjml2html(content);\n\n  if (result.errors.length) {\n    const errorMsg = `[mjml-loader] ERROR in ${this.resourcePath}:\n    ${result.errors.map(error => `- ${error.formattedMessage}`)}`;\n\n    const error = new Error(errorMsg);\n    error.code = 'MJML_INVALID';\n\n    throw error;\n  }\n\n  return `export default ${JSON.stringify(result.html)};`;\n}\n"]}